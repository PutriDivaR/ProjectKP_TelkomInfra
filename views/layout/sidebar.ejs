<button id="sidebarToggle" class="sidebar-toggle-mobile" aria-label="Toggle sidebar">
  <i class="fa-solid fa-bars"></i>
</button>

<div class="sidebar-backdrop" id="sidebarBackdrop"></div>

<div class="sidebar" role="navigation" aria-label="Main menu">

  <button id="sidebarToggleDesktop" class="sidebar-toggle-desktop" aria-label="Toggle sidebar">
    <i class="fa-solid fa-bars"></i>
  </button>

  <div class="brand">
    <i class="fa-solid <%= typeof brandIcon !== 'undefined' ? brandIcon : 'fa-layer-group' %>"></i>
    <span class="brand-text"><%= typeof brandText !== 'undefined' ? brandText : 'RIDAR Monitor' %></span>
  </div>

  <ul class="menu">

    <!-- Dashboard -->
    <li>
      <a href="/dashboard" data-title="Dashboard">
        <i class="fa-solid fa-gauge-high"></i>
        <span class="label">Dashboard</span>
      </a>
    </li>

    <!-- Kendala Teknik Sistem -->
    <li>
      <a href="/todolist" data-title="Kendala Teknik Sistem">
        <i class="fa-solid fa-gears"></i>
        <span class="label">Kendala Teknik Sistem</span>
      </a>
    </li>

    <!-- Daily Housekeeping -->
    <li>
      <a href="/dailyhouse" data-title="Daily Housekeeping">
        <i class="fa-solid fa-house-chimney-crack"></i>
        <span class="label">Daily Housekeeping</span>
      </a>
    </li>

    <!-- Kendala Pelanggan -->
    <li>
      <a href="/kendala" data-title="Kendala Pelanggan">
        <i class="fa-solid fa-users"></i>
        <span class="label">Kendala Pelanggan</span>
      </a>
    </li>

    <!-- KENDALA with Submenu -->
    <li class="has-submenu <%= typeof activePage !== 'undefined' && activePage === 'datakendala' ? 'active' : '' %>">
      <a href="#" class="menu-toggle <%= typeof activePage !== 'undefined' && activePage === 'datakendala' ? 'active' : '' %>" data-title="Kendala" onclick="toggleSubmenu(event)">
        <i class="fa-solid fa-table"></i>
        <span class="label">Kendala</span>
        <i class="fa-solid fa-chevron-down arrow"></i>
      </a>
      <ul class="submenu">
        <li>
          <a href="/datakendala?tab=teknik" data-title="Kendala Teknik" class="<%= typeof activePage !== 'undefined' && activePage === 'datakendala' && typeof activeTab !== 'undefined' && activeTab === 'teknik' ? 'active' : '' %>">
            <i class="fa-solid fa-wrench"></i>
            <span class="label">Kendala Teknik</span>
          </a>
        </li>
        <li>
          <a href="/datakendala?tab=sistem" data-title="Kendala Sistem" class="<%= typeof activePage !== 'undefined' && activePage === 'datakendala' && typeof activeTab !== 'undefined' && activeTab === 'sistem' ? 'active' : '' %>">
            <i class="fa-solid fa-server"></i>
            <span class="label">Kendala Sistem</span>
          </a>
        </li>
      </ul>
    </li>

    <!-- Sumber Data (submenu) -->
    <li class="has-submenu">
      <a href="#" class="menu-toggle" data-title="Sumber Data" onclick="toggleSubmenu(event)">
        <i class="fa-solid fa-database"></i>
        <span class="label">Sumber Data</span>
        <i class="fa-solid fa-chevron-down arrow"></i>
      </a>
      <ul class="submenu">
        <li>
          <a href="/kendala-teknik" data-title="Sumber Kendala Teknik">
            <i class="fa-solid fa-list-check"></i>
            <span class="label">Sumber Kendala Teknik</span>
          </a>
        </li>
        <li>
          <a href="/wilayah-ridar" data-title="Sumber Wilayah Ridar">
            <i class="fa-solid fa-map-location-dot"></i>
            <span class="label">Sumber Wilayah Ridar</span>
          </a>
        </li>
      </ul>
    </li>

  </ul>

  <!-- Sidebar Footer -->
  <div class="sidebar-footer">
    <div class="user-info">
      <i class="fa-solid fa-user-circle"></i>
      <span class="user-name"><%= (user && user.username) ? user.username : 'Pengguna' %></span>
    </div>
    <a href="/logout" class="logout-btn" title="Keluar">
      <i class="fa-solid fa-right-from-bracket"></i>
      <span>Logout</span>
    </a>
  </div>

</div>
